
  <div class="menu">
    <img src="./assets/image.png" alt="Description of the image" class="myimage">
    <span class="spn">Picture Perfect</span>
    <button class="upload-button" routerLink="/main">
    <i class="pi pi-check" style="font-size: 1rem; margin-right: 5px;"></i> Save changes
    </button>
  </div>
  <div class="content" style="display: flex;">
  <div class="sidebar" >
    <button (click)="toggleCropMode()">
      <i class="pi pi-pencil" style="font-size: 1rem; margin-right: 5px;"></i>Crop
    </button>
    <button (click)="toggleCompressMode()">
      <i class="pi pi-images" style="font-size: 1rem; margin-right: 5px;"></i>Resize
    </button>
    <button (click)="toggleZoomMode()" >
      <i class="pi pi-search-plus" style="font-size: 1rem; margin-right: 5px;"></i>Zoom
    </button>
    
    <button >
      <i class="pi pi-replay" style="font-size: 1rem; margin-right: 5px;"></i>Histogram of colors
    </button>
    <button>
      <i class="pi pi-refresh" style="font-size: 1rem; margin-right: 5px;"></i>Dominant colors
    </button>
    </div>
    <div class="gallery" >

      <div style="justify-content: center;">

        <img [src]=galleryImageUrl alt="Description of the image" class="image" *ngIf="!inCropMode && !inZoomMode">
      <div style="display: block; height: 300px;"> 
      <image-cropper 
        [imageURL]="galleryImageUrl"
        [maintainAspectRatio]="true"
        format="png"
        (imageCropped)="cropImg($event)"
        (imageLoaded)="imgLoad()"
        (cropperReady)="initCropper()"
        (loadImageFailed)="imgFailed()"
        *ngIf="inCropMode && !inZoomMode"
      ></image-cropper>
      <br>
      <br>
           <div *ngIf="inCompressMode">
      <div style="display: flex;">
      <div>
        <div  style="justify-content: center; display: flex;">
        <mat-slider min="1" max="100" step="1" value="1">
          <input matSliderThumb [(ngModel)]="ratio">
        </mat-slider><br>
       
        <input style="width: 40px;" type="number" [(ngModel)]="ratio"> <p>Ratio</p>
        </div>

        <div style="justify-content: center; display: flex; width: fit-content;">
          <mat-slider min="0" max="100" step="1" value="1">
            
            <input matSliderThumb [(ngModel)]="quality">
          </mat-slider><br>
          <input style="width: 40px;" type="number" [(ngModel)]="quality"><p>Quality</p>
        </div>

        </div>
        
      </div> <br>
        <button  class="button-5" (click)="compressFile()">submit</button>
        <br><br>
        </div>


      <div style="position: relative; display: block; height: 300px;">
        <img class="image" [src]="imgResultAfterCompression" *ngIf="imgResultAfterCompression && inCompressMode " />
      </div>
   
      </div> 
      <br>
      <br>
       <img class="image" [src]="cropImgPreview" *ngIf="inCropMode" />
      </div>
      


      <lib-ngx-image-zoom 
      [thumbImage]="galleryImageUrl"
      [magnification]="1"
      [enableScrollZoom]="true"
      [enableLens]="true"
      [lensWidth]="100"
      [lensHeight]="100"
      [circularLens]="true"
      *ngIf="inZoomMode"
      ></lib-ngx-image-zoom>

    </div>
    
  </div>  
  
  

 
  
